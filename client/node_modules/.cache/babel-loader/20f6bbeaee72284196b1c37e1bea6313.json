{"ast":null,"code":"var _jsxFileName = \"/home/yohannis/Desktop/Final-Project OHR/client/src/components/admin/SendAppointment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Header, Button, Grid, Form, Input, Segment, TextArea, Divider } from 'semantic-ui-react';\nimport 'react-datetime-picker/dist/DateTimePicker.css';\nimport DateTimePicker from 'react-datetime-picker/dist/entry.nostyle';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SendAppointment = () => {\n  _s();\n\n  const [time, setTime] = useState(new Date());\n  const publicVapidKey = 'BMffGk0gRxLPOSi-eOlXoR1ahY9Ce7uBY3010C06TeMoRYS_6n1A4ItVeOeNYutDlhPK27WW5UMrdyjBEj_-Pxo';\n\n  async function send() {\n    //register service worker\n    const register = await navigator.serviceWorker.register('/sw.js', {\n      scope: '/'\n    }); //register push\n\n    console.log('Registering push...');\n    const subscription = await register.pushManager.subscribe({\n      userVisibleOnly: true,\n      applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n    }); //Send push notification\n\n    await fetch(\"http://localhost:5000/api/subscribe\", {\n      method: \"POST\",\n      appointmentletter: JSON.stringify(subscription),\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    });\n  }\n\n  function urlBase64ToUint8Array(base64String) {\n    const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\n    const base64 = (base64String + padding).replace(/\\-/g, \"+\").replace(/_/g, \"/\");\n    const rawData = window.atob(base64);\n    const outputArray = new Uint8Array(rawData.length);\n\n    for (let i = 0; i < rawData.length; ++i) {\n      outputArray[i] = rawData.charCodeAt(i);\n    }\n\n    return outputArray;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      alignContent: \"center\",\n      margin: \"100px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      textAlign: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 7,\n        children: /*#__PURE__*/_jsxDEV(Segment, {\n          stacked: true,\n          style: {\n            backgroundColor: \"lightGray\"\n          },\n          textAlign: \"center\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            size: \"large\",\n            children: [/*#__PURE__*/_jsxDEV(Header, {\n              as: \"h2\",\n              color: \"teal\",\n              textAlign: \"center\",\n              children: \"SEEEEEEEEEEEEEEEEEEEEEEEEENNNNNNNNDDDDDDDDDDDD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              required: true,\n              id: \"form-input-control-last-name\",\n              control: TextArea,\n              label: \"appointment text\",\n              name: \"appointmentletter\",\n              placeholder: \"feedback\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(DateTimePicker, {\n              style: {\n                height: \"80px\"\n              },\n              onChange: setTime,\n              value: time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              hidden: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              color: \"twitter\",\n              onClick: send,\n              children: \"Send Appointment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              hidden: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SendAppointment, \"fcm/Xt0GWaEzrzUPPoorE9hWn1E=\");\n\n_c = SendAppointment;\nexport default SendAppointment;\n\nvar _c;\n\n$RefreshReg$(_c, \"SendAppointment\");","map":{"version":3,"sources":["/home/yohannis/Desktop/Final-Project OHR/client/src/components/admin/SendAppointment.js"],"names":["React","useState","Header","Button","Grid","Form","Input","Segment","TextArea","Divider","DateTimePicker","SendAppointment","time","setTime","Date","publicVapidKey","send","register","navigator","serviceWorker","scope","console","log","subscription","pushManager","subscribe","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","fetch","method","appointmentletter","JSON","stringify","headers","base64String","padding","repeat","length","base64","replace","rawData","window","atob","outputArray","Uint8Array","i","charCodeAt","alignContent","margin","backgroundColor","height"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { Header, Button, Grid, Form, Input, Segment, TextArea, Divider } from 'semantic-ui-react';\nimport 'react-datetime-picker/dist/DateTimePicker.css'\nimport DateTimePicker from 'react-datetime-picker/dist/entry.nostyle'\nconst SendAppointment = () => {\n    const [time, setTime] = useState(new Date());\n\n    const publicVapidKey = 'BMffGk0gRxLPOSi-eOlXoR1ahY9Ce7uBY3010C06TeMoRYS_6n1A4ItVeOeNYutDlhPK27WW5UMrdyjBEj_-Pxo';\n\n    async function send() {\n        //register service worker\n        const register = await navigator.serviceWorker.register('/sw.js', {\n            scope: '/'\n        });\n\n        //register push\n        console.log('Registering push...')\n        const subscription = await register.pushManager.subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n        });\n\n        //Send push notification\n        await fetch(\"http://localhost:5000/api/subscribe\", {\n            method: \"POST\",\n            appointmentletter: JSON.stringify(subscription),\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        });\n    }\n\n    function urlBase64ToUint8Array(base64String) {\n        const padding = \"=\".repeat((4 - base64String.length % 4) % 4);\n        const base64 = (base64String + padding)\n            .replace(/\\-/g, \"+\")\n            .replace(/_/g, \"/\");\n\n        const rawData = window.atob(base64);\n        const outputArray = new Uint8Array(rawData.length);\n\n        for (let i = 0; i < rawData.length; ++i) {\n            outputArray[i] = rawData.charCodeAt(i);\n        }\n        return outputArray;\n    }\n    return (\n        <div style={{ alignContent: \"center\", margin: \"100px\" }}>\n\n            <Grid textAlign='center'>\n                <Grid.Column width={7}>\n\n                    <Segment stacked style={{ backgroundColor: \"lightGray\" }} textAlign='center'>\n                        <Form size='large' >\n                            <Header as='h2' color='teal' textAlign='center'>\n                                SEEEEEEEEEEEEEEEEEEEEEEEEENNNNNNNNDDDDDDDDDDDD\n                            </Header>\n                            <Form.Field\n                                required\n                                id='form-input-control-last-name'\n                                control={TextArea}\n                                label='appointment text'\n                                name='appointmentletter'\n                                placeholder='feedback'\n                            />\n                            \n                                <DateTimePicker\n                                    style={{height:\"80px\"}}\n                                    onChange={setTime}\n                                    value={time}\n                                />\n                            \n                            <Divider hidden />\n                            <Button color=\"twitter\" onClick={send}>Send Appointment</Button>\n                            <Divider hidden />\n\n                        </Form>\n                    </Segment>\n                </Grid.Column>\n\n\n            </Grid>\n        </div>\n    )\n}\n\nexport default SendAppointment\n"]},"metadata":{},"sourceType":"module"}