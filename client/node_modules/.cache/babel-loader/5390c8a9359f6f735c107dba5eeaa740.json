{"ast":null,"code":"var _jsxFileName = \"/home/yohannis/Desktop/Final-Project OHR/client/src/components/screen/ContractForm.js\",\n    _s = $RefreshSig$();\n\nimport { axios } from 'axios';\nimport React, { useEffect, useState, Component } from 'react';\nimport { Button, Container, Label, TransitionablePortal, Segment, Image, Divider, Form, Grid, Header } from 'semantic-ui-react';\nimport SignaturePanel from '../admin/SignaturePanel';\nimport { useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TextPlaceHolder extends Component {\n  constructor(_props) {\n    super(_props);\n    this.signPad = {};\n\n    this.clear = () => {\n      this.signPad.clear();\n    };\n\n    this.trimSignature = () => {\n      this.setState({\n        trimmedDataURL: this.signPad.getTrimmedCanvas().toDataURL('image/svg')\n      });\n      this.setState({\n        open: false\n      });\n    };\n\n    this.setOpen = props => {\n      this.setState({\n        open: !props\n      });\n    };\n\n    this.state = {\n      trimmedDataURL: null,\n      open: false\n    };\n  }\n\n  render() {\n    const {\n      trimmedDataURL\n    } = this.state; //this.setOpen(false)\n\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        content: 'Cick here to sign',\n        onClick: () => {\n          this.setOpen(this.state.open);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TransitionablePortal, {\n        open: this.state.open,\n        transition: {\n          animation: 'browse',\n          duration: 500\n        },\n        children: /*#__PURE__*/_jsxDEV(Segment, {\n          style: {\n            left: '40%',\n            position: 'fixed',\n            top: '30%',\n            zIndex: 1000\n          },\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            children: \"Please use the mouse to sign!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(SignaturePanel, {\n            canvasProps: {\n              width: '100%',\n              height: '100%'\n            },\n            ref: ref => {\n              this.signPad = ref;\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: this.trimSignature,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this), trimmedDataURL ? /*#__PURE__*/_jsxDEV(Image, {\n        style: {\n          backgroundSize: ' 200px 50px',\n          width: '200px',\n          height: '50px',\n          backgroundColor: 'white'\n        },\n        src: trimmedDataURL\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this) : '']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 14\n    }, this);\n  }\n\n}\n\nconst ContractForm = () => {\n  _s();\n\n  let params = useParams();\n  const houseId = params.id;\n  const [house, setHouse] = useState([]);\n  const [tenantemail, setTenantemail] = useState('');\n  const [houseid, setHouseid] = useState('');\n  const [feepermonth, setFeepermonth] = useState(0);\n  const [tenantusername, setTenantusername] = useState('');\n  const [landlordemail, setLandlordemail] = useState('');\n  const [landlordusername, setLandlordusername] = useState('');\n  const [tenantsignature, setTenantSignature] = useState('');\n  const [landlordsignature, setLandlordSignature] = useState('');\n  const [termsandcondition, setTermsandcondition] = useState('');\n  const [leaseduration, setLeaseduration] = useState('');\n\n  const handletenantEmailChange = e => {\n    setTenantemail(e.target.value);\n  };\n\n  const handleTenantNameChange = e => {\n    setTenantusername(e.target.value);\n  };\n\n  const handleLandlordEmailChange = e => {\n    setLandlordemail(e.target.value);\n  };\n\n  const handleLandlordNameChange = e => {\n    setLandlordusername(e.target.value);\n  };\n\n  const getThatHouse = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(`http://localhost:5000/admin/gethouserequestbyid/${houseId}`);\n      setHouse(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  console.log(JSON.stringify(trimmedDataURL));\n\n  const SignContract = contractdata => {\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n\n    try {\n      const {\n        data\n      } = axios.post('http://localhost:5000/admin/savecontract', contractdata, config);\n      console.log(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleMultipleFileSubmit = async () => {\n    const formData = new FormData();\n    formData.append('houseid', houseid);\n    formData.append('tenantname', tenantusername);\n    formData.append('tenantemail', tenantemail);\n    formData.append('landlordname', landlordusername);\n    formData.append('landlordemail', landlordemail);\n    formData.append('termsandcondition', termsandcondition);\n    formData.append('contractduration', leaseduration);\n    formData.append('feepermonth', feepermonth);\n    formData.append('tenantsignature', tenantsignature);\n    formData.append('landlordsignature', landlordsignature);\n    SignContract(formData);\n  };\n\n  useEffect(() => {\n    getThatHouse();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        marginTop: \"5px\"\n      },\n      children: house.map((element, index) => /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 16,\n        children: [/*#__PURE__*/_jsxDEV(Segment, {\n          textAlign: \"bottom\",\n          style: {\n            backgroundImage: \"url(/des2.jpg)\",\n            height: \"20vh\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            src: \"https://react.semantic-ui.com/images/wireframe/square-image.png\",\n            size: \"small\",\n            circular: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          hidden: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          hidden: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Header, {\n          as: \"h2\",\n          children: \"Terms And Conditions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          textAlign: \"left\",\n          children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n            width: \"8\",\n            children: [/*#__PURE__*/_jsxDEV(Form, {\n              size: \"large\",\n              style: {\n                verticalAlign: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Header, {\n                children: \" Tenant Contract Fill Form\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                fluid: true,\n                icon: \"user\",\n                iconPosition: \"left\",\n                type: \"text\",\n                required: true,\n                placeholder: \"your username\",\n                tabIndex: 1,\n                onChange: e => setTenantusername(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                fluid: true,\n                icon: \"email\",\n                iconPosition: \"left\",\n                type: \"email\",\n                required: true,\n                id: \"email\",\n                placeholder: \"your email address\",\n                tabIndex: 1,\n                onChange: e => setTenantemail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 36\n            }, this), /*#__PURE__*/_jsxDEV(Segment, {\n              children: [/*#__PURE__*/_jsxDEV(TextPlaceHolder, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), \"Tenant\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              hidden: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n            width: \"8\",\n            children: [/*#__PURE__*/_jsxDEV(Form, {\n              size: \"large\",\n              style: {\n                verticalAlign: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Header, {\n                children: \" Landlord Contract Fill Form\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                fluid: true,\n                icon: \"user\",\n                iconPosition: \"left\",\n                type: \"text\",\n                required: true,\n                placeholder: \"your username\",\n                tabIndex: 1,\n                onChange: e => setLandlordusername(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                fluid: true,\n                icon: \"email\",\n                iconPosition: \"left\",\n                type: \"email\",\n                required: true,\n                id: \"email\",\n                placeholder: \"your email address\",\n                tabIndex: 1,\n                onChange: e => setLandlordemail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 36\n            }, this), /*#__PURE__*/_jsxDEV(Segment, {\n              children: [/*#__PURE__*/_jsxDEV(TextPlaceHolder, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), \"Landlord\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              hidden: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              children: \"I agree to terms and condition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ContractForm, \"8tXVjBntr0YsuaZ3LnaHQ73qLJQ=\", false, function () {\n  return [useParams];\n});\n\n_c = ContractForm;\nexport default ContractForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContractForm\");","map":{"version":3,"sources":["/home/yohannis/Desktop/Final-Project OHR/client/src/components/screen/ContractForm.js"],"names":["axios","React","useEffect","useState","Component","Button","Container","Label","TransitionablePortal","Segment","Image","Divider","Form","Grid","Header","SignaturePanel","useParams","TextPlaceHolder","constructor","props","signPad","clear","trimSignature","setState","trimmedDataURL","getTrimmedCanvas","toDataURL","open","setOpen","state","render","animation","duration","left","position","top","zIndex","width","height","ref","backgroundSize","backgroundColor","ContractForm","params","houseId","id","house","setHouse","tenantemail","setTenantemail","houseid","setHouseid","feepermonth","setFeepermonth","tenantusername","setTenantusername","landlordemail","setLandlordemail","landlordusername","setLandlordusername","tenantsignature","setTenantSignature","landlordsignature","setLandlordSignature","termsandcondition","setTermsandcondition","leaseduration","setLeaseduration","handletenantEmailChange","e","target","value","handleTenantNameChange","handleLandlordEmailChange","handleLandlordNameChange","getThatHouse","data","get","error","console","log","JSON","stringify","SignContract","contractdata","config","header","post","handleMultipleFileSubmit","formData","FormData","append","minHeight","marginTop","map","element","index","backgroundImage","verticalAlign"],"mappings":"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","sourcesContent":["import { axios } from 'axios';\nimport React,{ useEffect, useState,Component} from 'react';\nimport { Button, Container, Label, TransitionablePortal, Segment, Image , Divider, Form, Grid, Header} from 'semantic-ui-react'\nimport SignaturePanel from '../admin/SignaturePanel'\nimport { useParams } from 'react-router-dom';\nclass TextPlaceHolder extends Component {\n  constructor(props){\n      super(props);\n      this.state = {\n          trimmedDataURL : null,\n          open : false    \n      }\n  }\n  signPad = {}\n  clear = () => {\n      this.signPad.clear()\n  }\n  trimSignature = () => {\n      this.setState({ trimmedDataURL: this.signPad.getTrimmedCanvas()\n          .toDataURL('image/svg') })\n          this.setState({open:false})\n  }\n  setOpen = (props) => {\n      this.setState({open: !props})\n  }\n  \n  render() {\n      const { trimmedDataURL} = this.state\n      \n      //this.setOpen(false)\n      return <Container>\n          \n          <Label content={'Cick here to sign'} onClick={() => {this.setOpen(this.state.open)}}></Label>\n          <TransitionablePortal\n              open= {this.state.open}\n              transition={{animation:'browse',duration: 500 }}\n              >\n                  <Segment style={{\n                      left: '40%',\n                      position: 'fixed',\n                      top: '30%',\n                      zIndex: 1000,\n                  }}  \n                  >\n                      <Header>Please use the mouse to sign!</Header>\n                      <SignaturePanel canvasProps={{width: '100%',height: '100%' }}\n                          ref={(ref) => {this.signPad = ref}} />\n\n                      <Button onClick={this.trimSignature}>Save</Button>\n                  </Segment>\n          </TransitionablePortal>\n          {trimmedDataURL \n              ? <Image style={{backgroundSize:' 200px 50px',\n                  width: '200px',\n                  height: '50px',\n                  backgroundColor: 'white'}} src={trimmedDataURL}/>\n              : ''}\n              {/* {JSON.stringify(this.state.trimmedDataURL)} */}\n      </Container>\n  }\n  \n}\n\nconst ContractForm = () => {\n  let params = useParams()\n  const houseId = params.id\n  const [house, setHouse] = useState([])\n  const [tenantemail, setTenantemail] = useState('')\n  const [houseid, setHouseid] = useState('')\n  const [feepermonth, setFeepermonth] = useState(0)\n  const [tenantusername, setTenantusername] = useState('')\n  const [landlordemail, setLandlordemail] = useState('')\n  const [landlordusername, setLandlordusername] = useState('')\n  const [tenantsignature, setTenantSignature] = useState('')\n  const [landlordsignature, setLandlordSignature] = useState('')\n  const [termsandcondition, setTermsandcondition] = useState('')\n  const [leaseduration, setLeaseduration] = useState('')\n  const handletenantEmailChange = (e) => {\n    setTenantemail(e.target.value)\n  }\n  const handleTenantNameChange = (e) => {\n    setTenantusername(e.target.value)\n  }\n  const handleLandlordEmailChange = (e) => {\n    setLandlordemail(e.target.value)\n  }\n  const handleLandlordNameChange = (e) => {\n    setLandlordusername(e.target.value)\n  }\n  const getThatHouse = async () => {\n    try {\n      const { data } = await axios.get(`http://localhost:5000/admin/gethouserequestbyid/${houseId}`)\n      setHouse(data)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  console.log(JSON.stringify(trimmedDataURL))\n  const SignContract = (contractdata) => {\n    const config = {\n      header: {\n        \"Content-Type\": \"application/json\",\n      }\n    };\n    try {\n      const { data } = axios.post('http://localhost:5000/admin/savecontract', contractdata, config)\n      console.log(data)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  const handleMultipleFileSubmit = async () => {\n    const formData = new FormData();\n    formData.append('houseid',houseid)\n    formData.append('tenantname', tenantusername);\n    formData.append('tenantemail', tenantemail);\n    formData.append('landlordname', landlordusername);\n    formData.append('landlordemail', landlordemail);\n    formData.append('termsandcondition', termsandcondition);\n    formData.append('contractduration', leaseduration);\n    formData.append('feepermonth', feepermonth);\n    formData.append('tenantsignature', tenantsignature);\n    formData.append('landlordsignature', landlordsignature);\n    \n    SignContract(formData)\n\n\n  }\n\n  useEffect(() => {\n    getThatHouse()\n  }, [])\n  return (\n    <div style={{ minHeight: \"100vh\" }}>\n\n      <Grid style={{ marginTop: \"5px\" }} >\n        {\n          house.map((element,index)=>\n          <Grid.Column width={16}>\n          <Segment\n            textAlign='bottom'\n            style={{\n              backgroundImage: \"url(/des2.jpg)\",\n              height: \"20vh\"\n            }}\n          >\n            <Image src='https://react.semantic-ui.com/images/wireframe/square-image.png' size='small' circular />\n          </Segment>\n          <Divider hidden />\n          <Divider hidden />\n          <Header as='h2' >Terms And Conditions</Header>\n          <Divider />\n          <Grid textAlign='left'>\n            <Grid.Column width=\"8\"><Form size='large' style={{ verticalAlign: \"center\" }}>\n              <Header> Tenant Contract Fill Form</Header>\n              <Form.Input fluid icon='user' iconPosition='left' type=\"text\"\n                required\n                placeholder=\"your username\"\n                tabIndex={1}\n                onChange={e=>setTenantusername(e.target.value)}\n              />\n              <Form.Input fluid icon='email' iconPosition='left' type=\"email\"\n                required\n                id=\"email\"\n                placeholder=\"your email address\"\n                tabIndex={1}\n                onChange={e=>setTenantemail(e.target.value)}\n              />\n\n\n\n\n            </Form>\n              <Segment>\n                <TextPlaceHolder />\n                Tenant\n              </Segment>\n\n              <Divider hidden />\n            </Grid.Column>\n\n            <Grid.Column width=\"8\"><Form size='large' style={{ verticalAlign: \"center\" }}>\n\n              <Header> Landlord Contract Fill Form</Header>\n              <Form.Input fluid icon='user' iconPosition='left' type=\"text\"\n                required\n                placeholder=\"your username\"\n                tabIndex={1}\n                onChange={e=>setLandlordusername(e.target.value)}\n              />\n              <Form.Input fluid icon='email' iconPosition='left' type=\"email\"\n                required\n                id=\"email\"\n                placeholder=\"your email address\"\n                tabIndex={1}\n                onChange={e=>setLandlordemail(e.target.value)}\n              />\n            </Form>\n\n              <Segment>\n                <TextPlaceHolder />\n                Landlord\n              </Segment>\n              <Divider hidden />\n\n              <Button >I agree to terms and condition</Button>\n            </Grid.Column>\n\n\n\n\n\n\n          </Grid>\n        </Grid.Column>\n          \n      )}\n\n\n\n       \n      </Grid>\n\n    </div>\n\n\n\n\n  )\n}\nexport default ContractForm;\n"]},"metadata":{},"sourceType":"module"}